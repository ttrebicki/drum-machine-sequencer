(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{14:function(e,t,n){e.exports={display:"drumMachine_display__2-2zG",drum_machine:"drumMachine_drum_machine__e5kg-",drum_pad:"drumMachine_drum_pad__22K0V",clip:"drumMachine_clip__2IeJ_"}},19:function(e,t,n){e.exports={sequencer:"Sequencer_sequencer__15iQ6",step:"Sequencer_step__3Tm2V",sound:"Sequencer_sound__2PGz1",active:"Sequencer_active__1l_PC",spin:"Sequencer_spin__2rQWe",play:"Sequencer_play__iuqrI"}},46:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=(n(46),n(9)),s=n(17),u="hihat_o",d="Q",l="crash",m="W",p="ride",f="E",h="hihat",b="A",v="tom_1",_="S",j="tom_2",y="D",w="kick",g="Z",k="snare_1",O="X",x="snare_2",S="C",q="snowball",K="R",N="bottlepick",A="T",C="footstep",E="Y",H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case d:case u:return u;case m:case l:return l;case f:case p:return p;case b:case h:return h;case _:case v:return v;case y:case j:return j;case g:case w:return w;case O:case k:return k;case S:case x:return x;case K:case q:return q;case A:case N:return N;case E:case C:return C;default:return t}},W=function(e,t){var n=document.getElementById(H(t)),r=document.getElementById("drum-pad-"+H(t));r&&n&&(function(e){e&&(e.pause(),e.currentTime=0,e.play())}(n),function(e){e.style.background="#f55",e.style.transform="rotate3d(1,1,1,180deg)",setTimeout((function(){e.style.background="",e.style.transform="rotate3d(1,1,1,720deg)"}),100)}(r))},T=n.p+"static/media/kick.d0344def.wav",I=n.p+"static/media/test.b7308e39.wav",P=n.p+"static/media/hihat_o.6966be37.wav",B=n.p+"static/media/ride.e0b327a3.wav",M=n.p+"static/media/crash.ca0ea007.wav",R=n.p+"static/media/tom_1.9d94aac4.wav",U=n.p+"static/media/tom_2.c46e6ffc.wav",L=n.p+"static/media/snare_1.a2a1ab05.wav",Y=n.p+"static/media/snare_2.7b098e83.wav",z=n.p+"static/media/snowball.519a15e4.wav",J=n.p+"static/media/bottlepick.e86440ba.wav",Q=n.p+"static/media/footstep.a2883dbe.wav",D=Object(s.b)({name:"drums",initialState:{drumHits:{hihat_o:P,crash:M,ride:B,hihat:I,tom_1:R,tom_2:U,kick:T,snare_1:L,snare_2:Y,snowball:z,bottlepick:J,footstep:Q},currentKey:":: PRESS A KEY TO PLAY ::"},reducers:{currentHitSetter:function(e,t){e.currentKey=H(t.payload)},playKey:function(e,t){return W(0,t.payload)}}}),G=D.actions,V=G.currentHitSetter,F=G.playKey,X=function(e){return e.drums.drumHits},Z=function(e){return e.drums.currentKey},$=D.reducer,ee=n(14),te=n.n(ee),ne=n(2),re=function(e){var t=Object(o.b)();return Object(ne.jsxs)("div",{id:"drum-pad-"+e.drumKey,className:"col-4 drum-pad "+te.a.drum_pad,onClick:function(){t(F(e.drumKey)),t(V(e.drumKey))},children:[e.drumKey,Object(ne.jsx)("audio",{className:"clip "+te.a.clip,id:e.drumKey,src:e.drumHit})]})},ae=n(30),ce=n.n(ae),ie=n(31),oe=n(32),se=n.n(oe),ue=function(e,t){var n,r=function(e){return e.measure.map((function(e){return Object.keys(e).filter((function(t){return e[t]}))}))}(e);!function a(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=6e4/t/4,u=setTimeout((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;a(e,i,o)}),s);return r[c].map((function(e){(n=document.getElementById("step-"+c.toString()))&&(W(0,e),de(n))})),++c<r.length||(c=0),u}()},de=function(e){e.style.background="#fff",e.style.boxShadow="0 0 16px 4px #f55",setTimeout((function(){e.style.background="transparent",e.style.boxShadow="none"}),100)},le=Object(s.b)({name:"sequencer",initialState:{measure:function(){var e,t=[];for(e=0;e<16;e++)t.push({kick:!1,hihat:!1,hihat_o:!1,snare_1:!1,snare_2:!1,tom_1:!1,tom_2:!1,ride:!1,crash:!1,footstep:!1,snowball:!1,bottlepick:!1});return t}()},reducers:{playSequence:function(e){ue(e,130)},toggleHit:function(e,t){var n=t.payload.step,r=t.payload.sound;e.measure[n][r]=!e.measure[n][r]}}}),me=le.actions,pe=me.playSequence,fe=me.toggleHit,he=function(e){return e.sequencer.measure},be=le.reducer,ve=n(19),_e=n.n(ve),je=n(73),ye=n(74),we=n(37),ge=n.n(we),ke=function(){var e,t=Object(o.c)(he),n=Object(o.b)(),r=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(pe());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)("div",{className:_e.a.sequencer,children:[(e=t,e.map((function(e,t){var r=Object.keys(e).map((function(r){var a=t;return Object(ne.jsx)(je.a,{className:se()(_e.a.sound,e[r]&&_e.a.active),onClick:function(){return function(e,t){n(fe({sound:e,step:t}))}(r,a)},children:Object(ne.jsx)(ge.a,{})},t+r)}));return Object(ne.jsx)("ul",{className:_e.a.step,id:"step-"+t.toString(),children:r},t++)}))),Object(ne.jsx)(ye.a,{className:_e.a.play,variant:"contained",size:"large",disableElevation:!0,onClick:r,children:"PLAY"})]})},Oe=function(){var e=Object(o.c)(Z),t=Object(o.c)(X),n=Object.entries(t);return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("div",{id:"drum-machine",className:te.a.drum_machine,children:[Object(ne.jsx)("div",{className:"row "+te.a.drum_row,children:Object(ne.jsx)("div",{id:"display",className:"col-12 "+te.a.display,children:e})}),function(){for(var e=[],t=0;t<n.length;t++)0!==t&&t%3!==0||e.push(Object(ne.jsxs)("div",{id:"row-"+(t/3+1),className:"row "+te.a.drum_row,children:[Object(ne.jsx)(re,{drumKey:n[t][0],drumHit:n[t][1]}),Object(ne.jsx)(re,{drumKey:n[t+1][0],drumHit:n[t+1][1]}),Object(ne.jsx)(re,{drumKey:n[t+2][0],drumHit:n[t+2][1]})]},"row-"+(t/3+1)));return e}()]}),Object(ne.jsx)(ke,{})]})},xe=(n(56),function(){var e=Object(o.b)();return Object(ne.jsx)("div",{className:"App",onKeyDown:function(t){return e(F((n=t).key.toUpperCase())),void e(V(n.key.toUpperCase()));var n},tabIndex:0,children:Object(ne.jsx)(Oe,{})})}),Se=Object(s.a)({reducer:{drums:$,sequencer:be}}),qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(57);i.a.render(Object(ne.jsx)(a.a.StrictMode,{children:Object(ne.jsx)(o.a,{store:Se,children:Object(ne.jsx)(xe,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/drum-machine-sequencer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/drum-machine-sequencer","/service-worker.js");qe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web state is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ke(t,e)}))}}()}},[[58,1,2]]]);
//# sourceMappingURL=main.4fb04e1b.chunk.js.map